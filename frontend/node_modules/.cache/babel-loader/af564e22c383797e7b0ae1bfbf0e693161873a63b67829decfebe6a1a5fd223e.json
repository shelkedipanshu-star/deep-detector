{"ast":null,"code":"var _jsxFileName = \"C:\\\\meet\\\\deep\\\\frontend\\\\src\\\\pages\\\\Upload.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst accept = {\n  'image/*': ['.jpg', '.jpeg', '.png', '.bmp'],\n  'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm']\n};\nexport default function Upload() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles && acceptedFiles[0]) {\n      setFile(acceptedFiles[0]);\n      setError('');\n    }\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept,\n    multiple: false\n  });\n  const handleUpload = async () => {\n    if (!file) return setError('Please select a file.');\n    const form = new FormData();\n    form.append('file', file);\n    try {\n      const res = await axios.post('/upload', form, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const {\n        id,\n        label\n      } = res.data;\n      navigate(`/results/${id}`, {\n        state: res.data\n      });\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'Upload failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative min-h-screen flex items-center justify-center overflow-hidden px-6 py-16\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pointer-events-none absolute inset-0 -z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-primary/20 blur-3xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -bottom-24 -right-24 w-[30rem] h-[30rem] rounded-full bg-secondary/20 blur-3xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 20\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.5\n      },\n      className: \"w-full max-w-3xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-2xl border border-white/10 p-8\",\n        children: [/*#__PURE__*/_jsxDEV(motion.h2, {\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"text-4xl font-extrabold\",\n          children: \"Upload Image or Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-white/60\",\n          children: \"Drag & drop or click to browse. Supported: JPG, PNG, MP4, MOV, MKV.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ...getRootProps(),\n          className: `mt-8 border-2 border-dashed rounded-2xl p-10 text-center transition ${isDragActive ? 'border-primary bg-primary/5' : 'border-white/10 bg-white/5'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ...getInputProps()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-6xl\",\n            children: \"\\u2B06\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-white/80\",\n            children: isDragActive ? 'Drop your file here' : 'Drag & drop here, or click to select'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-primary\",\n            children: [\"Selected: \", file.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-rose-400\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpload,\n            className: \"px-6 py-3 rounded-full bg-primary hover:bg-primary/90 transition shadow-xl shadow-primary/30\",\n            children: \"Upload & Analyze\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setFile(null),\n            className: \"px-6 py-3 rounded-full bg-white/10 hover:bg-white/20 border border-white/10\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Upload, \"dWkyeDpdW0TWeCAaYrc8xN2JAWk=\", false, function () {\n  return [useNavigate, useDropzone];\n});\n_c = Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useCallback","useState","useNavigate","useDropzone","motion","axios","jsxDEV","_jsxDEV","accept","Upload","_s","file","setFile","error","setError","navigate","onDrop","acceptedFiles","getRootProps","getInputProps","isDragActive","multiple","handleUpload","form","FormData","append","res","post","headers","id","label","data","state","e","_e$response","_e$response$data","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","transition","duration","h2","name","onClick","_c","$RefreshReg$"],"sources":["C:/meet/deep/frontend/src/pages/Upload.js"],"sourcesContent":["import React, { useCallback, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport { motion } from 'framer-motion'\r\nimport axios from 'axios'\r\n\r\nconst accept = {\r\n  'image/*': ['.jpg', '.jpeg', '.png', '.bmp'],\r\n  'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm']\r\n}\r\n\r\nexport default function Upload() {\r\n  const [file, setFile] = useState(null)\r\n  const [error, setError] = useState('')\r\n  const navigate = useNavigate()\r\n\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    if (acceptedFiles && acceptedFiles[0]) {\r\n      setFile(acceptedFiles[0])\r\n      setError('')\r\n    }\r\n  }, [])\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop, accept, multiple: false })\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return setError('Please select a file.')\r\n    const form = new FormData()\r\n    form.append('file', file)\r\n    try {\r\n      const res = await axios.post('/upload', form, { headers: { 'Content-Type': 'multipart/form-data' }})\r\n      const { id, label } = res.data\r\n      navigate(`/results/${id}`, { state: res.data })\r\n    } catch (e) {\r\n      setError(e?.response?.data?.error || 'Upload failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen flex items-center justify-center overflow-hidden px-6 py-16\">\r\n      <div className=\"pointer-events-none absolute inset-0 -z-10\">\r\n        <div className=\"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-primary/20 blur-3xl\" />\r\n        <div className=\"absolute -bottom-24 -right-24 w-[30rem] h-[30rem] rounded-full bg-secondary/20 blur-3xl\" />\r\n      </div>\r\n\r\n      <motion.div initial={{opacity:0,y:20}} animate={{opacity:1,y:0}} transition={{duration:0.5}} className=\"w-full max-w-3xl\">\r\n        <div className=\"glass rounded-2xl border border-white/10 p-8\">\r\n          <motion.h2 initial={{opacity:0,y:10}} animate={{opacity:1,y:0}} className=\"text-4xl font-extrabold\">Upload Image or Video</motion.h2>\r\n          <p className=\"mt-2 text-white/60\">Drag & drop or click to browse. Supported: JPG, PNG, MP4, MOV, MKV.</p>\r\n\r\n          <div {...getRootProps()} className={`mt-8 border-2 border-dashed rounded-2xl p-10 text-center transition ${isDragActive? 'border-primary bg-primary/5':'border-white/10 bg-white/5'}`}>\r\n            <input {...getInputProps()} />\r\n            <div className=\"text-6xl\">⬆️</div>\r\n            <div className=\"mt-2 text-white/80\">{isDragActive? 'Drop your file here' : 'Drag & drop here, or click to select'}</div>\r\n            {file && <div className=\"mt-4 text-primary\">Selected: {file.name}</div>}\r\n          </div>\r\n\r\n          {error && <div className=\"mt-4 text-rose-400\">{error}</div>}\r\n\r\n          <div className=\"mt-8 flex gap-4\">\r\n            <button onClick={handleUpload} className=\"px-6 py-3 rounded-full bg-primary hover:bg-primary/90 transition shadow-xl shadow-primary/30\">Upload & Analyze</button>\r\n            <button onClick={()=>setFile(null)} className=\"px-6 py-3 rounded-full bg-white/10 hover:bg-white/20 border border-white/10\">Reset</button>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}