{"ast":null,"code":"var _jsxFileName = \"C:\\\\meet\\\\deep\\\\frontend\\\\src\\\\pages\\\\Upload.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst accept = {\n  'image/*': ['.jpg', '.jpeg', '.png', '.bmp'],\n  'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm']\n};\nexport default function Upload() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles && acceptedFiles[0]) {\n      setFile(acceptedFiles[0]);\n      setError('');\n    }\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept,\n    multiple: false\n  });\n  const handleUpload = async () => {\n    if (!file) return setError('Please select a file.');\n    const form = new FormData();\n    form.append('file', file);\n    try {\n      const res = await axios.post('/upload', form, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const {\n        id,\n        label\n      } = res.data;\n      navigate(`/results/${id}`, {\n        state: res.data\n      });\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'Upload failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto px-6 py-16\",\n    children: [/*#__PURE__*/_jsxDEV(motion.h2, {\n      initial: {\n        opacity: 0,\n        y: 10\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"text-4xl font-extrabold\",\n      children: \"Upload Image or Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-2 text-white/60\",\n      children: \"Drag & drop or click to browse. Supported: JPG, PNG, MP4, MOV, MKV.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `mt-8 border-2 border-dashed rounded-2xl p-10 text-center transition ${isDragActive ? 'border-primary bg-primary/5' : 'border-white/10 bg-white/5'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl\",\n        children: \"\\u2B06\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 text-white/80\",\n        children: isDragActive ? 'Drop your file here' : 'Drag & drop here, or click to select'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-primary\",\n        children: [\"Selected: \", file.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 text-red-400\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 flex gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        className: \"px-6 py-3 rounded-full bg-primary hover:bg-primary/90 transition shadow-xl shadow-primary/30\",\n        children: \"Upload & Analyze\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFile(null),\n        className: \"px-6 py-3 rounded-full bg-white/10 hover:bg-white/20 border border-white/10\",\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Upload, \"dWkyeDpdW0TWeCAaYrc8xN2JAWk=\", false, function () {\n  return [useNavigate, useDropzone];\n});\n_c = Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useCallback","useState","useNavigate","useDropzone","motion","axios","jsxDEV","_jsxDEV","accept","Upload","_s","file","setFile","error","setError","navigate","onDrop","acceptedFiles","getRootProps","getInputProps","isDragActive","multiple","handleUpload","form","FormData","append","res","post","headers","id","label","data","state","e","_e$response","_e$response$data","response","className","children","h2","initial","opacity","y","animate","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick","_c","$RefreshReg$"],"sources":["C:/meet/deep/frontend/src/pages/Upload.js"],"sourcesContent":["import React, { useCallback, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport { motion } from 'framer-motion'\r\nimport axios from 'axios'\r\n\r\nconst accept = {\r\n  'image/*': ['.jpg', '.jpeg', '.png', '.bmp'],\r\n  'video/*': ['.mp4', '.avi', '.mov', '.mkv', '.webm']\r\n}\r\n\r\nexport default function Upload() {\r\n  const [file, setFile] = useState(null)\r\n  const [error, setError] = useState('')\r\n  const navigate = useNavigate()\r\n\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    if (acceptedFiles && acceptedFiles[0]) {\r\n      setFile(acceptedFiles[0])\r\n      setError('')\r\n    }\r\n  }, [])\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop, accept, multiple: false })\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return setError('Please select a file.')\r\n    const form = new FormData()\r\n    form.append('file', file)\r\n    try {\r\n      const res = await axios.post('/upload', form, { headers: { 'Content-Type': 'multipart/form-data' }})\r\n      const { id, label } = res.data\r\n      navigate(`/results/${id}`, { state: res.data })\r\n    } catch (e) {\r\n      setError(e?.response?.data?.error || 'Upload failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto px-6 py-16\">\r\n      <motion.h2 initial={{opacity:0,y:10}} animate={{opacity:1,y:0}} className=\"text-4xl font-extrabold\">Upload Image or Video</motion.h2>\r\n      <p className=\"mt-2 text-white/60\">Drag & drop or click to browse. Supported: JPG, PNG, MP4, MOV, MKV.</p>\r\n\r\n      <div {...getRootProps()} className={`mt-8 border-2 border-dashed rounded-2xl p-10 text-center transition ${isDragActive? 'border-primary bg-primary/5':'border-white/10 bg-white/5'}`}>\r\n        <input {...getInputProps()} />\r\n        <div className=\"text-6xl\">⬆️</div>\r\n        <div className=\"mt-2 text-white/80\">{isDragActive? 'Drop your file here' : 'Drag & drop here, or click to select'}</div>\r\n        {file && <div className=\"mt-4 text-primary\">Selected: {file.name}</div>}\r\n      </div>\r\n\r\n      {error && <div className=\"mt-4 text-red-400\">{error}</div>}\r\n\r\n      <div className=\"mt-8 flex gap-4\">\r\n        <button onClick={handleUpload} className=\"px-6 py-3 rounded-full bg-primary hover:bg-primary/90 transition shadow-xl shadow-primary/30\">Upload & Analyze</button>\r\n        <button onClick={()=>setFile(null)} className=\"px-6 py-3 rounded-full bg-white/10 hover:bg-white/20 border border-white/10\">Reset</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}